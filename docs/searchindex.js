Search.setIndex({"docnames": ["README", "index"], "filenames": ["README.rst", "index.rst"], "titles": ["Description", "Description"], "terms": {"thi": [0, 1], "packag": [0, 1], "intend": [0, 1], "offer": [0, 1], "prioriti": [0, 1], "base": [0, 1], "remot": [0, 1], "solut": [0, 1], "redi": [0, 1], "transport": [0, 1], "persist": [0, 1], "layer": [0, 1], "json": [0, 1], "common": [0, 1], "interchang": [0, 1], "format": [0, 1], "semant": [0, 1], "modul": 0, "implement": [0, 1], "0": [0, 1], "1": [0, 1], "option": [0, 1], "That": [0, 1], "i": [0, 1], "attempt": [0, 1], "everi": [0, 1], "onc": [0, 1], "default": [0, 1], "manual": [0, 1], "visibl": [0, 1], "timeout": [0, 1], "If": [0, 1], "rais": [0, 1], "an": [0, 1], "except": [0, 1], "you": [0, 1], "can": [0, 1], "specifi": [0, 1], "maximum": [0, 1], "similarli": [0, 1], "rasis": [0, 1], "doesn": [0, 1], "t": [0, 1], "complet": [0, 1], "up": [0, 1], "limit": [0, 1], "provid": [0, 1], "see": [0, 1], "section": [0, 1], "below": [0, 1], "full": [0, 1], "document": [0, 1], "avail": [0, 1], "http": [0, 1], "josiahcarlson": [0, 1], "github": [0, 1], "io": [0, 1], "rpqueue": 0, "In": [0, 1], "order": [0, 1], "must": [0, 1], "ensur": [0, 1], "know": [0, 1], "about": [0, 1], "your": [0, 1], "configur": [0, 1], "connect": [0, 1], "server": [0, 1], "daemon": [0, 1], "from": [0, 1], "mytask": [0, 1], "import": [0, 1], "usertasks1": [0, 1], "usertasks2": [0, 1], "set_redis_connection_set": [0, 1], "host": [0, 1], "port": [0, 1], "db": [0, 1], "execute_task": [0, 1], "altern": [0, 1], "command": [0, 1], "line": [0, 1], "interfac": [0, 1], "do": [0, 1], "same": [0, 1], "though": [0, 1], "name": [0, 1], "all": [0, 1], "defin": [0, 1], "want": [0, 1], "run": [0, 1], "For": [0, 1], "py": [0, 1], "account": [0, 1], "cleanup": [0, 1], "ani": [0, 1], "other": [0, 1], "necessari": [0, 1], "put": [0, 1], "them": [0, 1], "here": [0, 1], "python": [0, 1], "m": [0, 1], "sai": [0, 1], "have": [0, 1], "call": [0, 1], "echo_to_stdout": [0, 1], "mai": [0, 1], "look": [0, 1], "like": [0, 1], "follow": [0, 1], "def": [0, 1], "messag": [0, 1], "print": [0, 1], "To": [0, 1], "abov": [0, 1], "would": [0, 1], "delai": [0, 1], "delay_in_second": [0, 1], "also": [0, 1], "schedul": [0, 1], "repeatedli": [0, 1], "periodic_task": [0, 1], "decor": [0, 1], "25": [0, 1], "low": [0, 1], "function1": [0, 1], "Will": [0, 1], "second": [0, 1], "within": [0, 1], "pass": [0, 1], "argument": [0, 1], "which": [0, 1], "total": [0, 1], "number": [0, 1], "time": [0, 1], "try": [0, 1], "befor": [0, 1], "fail": [0, 1], "By": [0, 1], "set": [0, 1], "unless": [0, 1], "otherwis": [0, 1], "3": [0, 1], "fail_until_zero": [0, 1], "valu": [0, 1], "kwarg": [0, 1], "els": [0, 1], "succeed": [0, 1], "never": [0, 1], "why": [0, 1], "The": [0, 1], "first": [0, 1], "ha": [0, 1], "2": [0, 1], "third": [0, 1], "return": [0, 1], "without": [0, 1], "includ": [0, 1], "30": [0, 1], "later": [0, 1], "give": [0, 1], "now": [0, 1], "per": [0, 1], "amazon": [0, 1], "sq": [0, 1], "style": [0, 1], "how": [0, 1], "long": [0, 1], "correctli": [0, 1], "being": [0, 1], "re": [0, 1], "enter": [0, 1], "20": [0, 1], "5": [0, 1], "use_dead": [0, 1], "fals": [0, 1], "usually_eventually_succe": [0, 1], "4": [0, 1], "0115": [0, 1], "so": [0, 1], "chain": [0, 1], "random": [0, 1], "randrang": [0, 1], "done": [0, 1], "sleep": [0, 1], "6": [0, 1], "silent": [0, 1], "true": [0, 1], "fails_to_dead": [0, 1], "32768": [0, 1], "33": [0, 1], "task_deadlett": [0, 1], "deadletter_queu": [0, 1], "is_task": [0, 1], "dead_task": [0, 1], "get_data": [0, 1], "item": [0, 1], "help": [0, 1], "more": [0, 1], "As": [0, 1], "version": [0, 1], "19": [0, 1], "abil": [0, 1], "until": [0, 1], "begin": [0, 1], "my_task": [0, 1], "arg": [0, 1], "someth": [0, 1], "executing_task": [0, 1], "either": [0, 1], "yet": [0, 1], "With": [0, 1], "add": [0, 1], "deadlin": [0, 1], "insert": [0, 1], "cancel": [0, 1], "block": [0, 1], "save_result": [0, 1], "task_with_result": [0, 1], "etask": [0, 1], "should": [0, 1], "period": [0, 1], "even": [0, 1], "cron": [0, 1], "describ": [0, 1], "encod": [0, 1], "support": [0, 1], "cron_task": [0, 1], "syntax": [0, 1], "requir": [0, 1], "pypi": [0, 1], "org": [0, 1], "allow": [0, 1], "tue": [0, 1], "function2": [0, 1], "tuesdai": [0, 1], "5am": [0, 1], "mean": [0, 1], "probabl": [0, 1], "been": [0, 1], "": [0, 1], "conveni": [0, 1], "1000": [0, 1], "read": [0, 1], "discret": [0, 1], "refresh": [0, 1], "keep": [0, 1], "work": [0, 1], "we": [0, 1], "don": [0, 1], "identifi": [0, 1], "reader": [0, 1], "explicit": [0, 1], "lock": [0, 1], "guarante": [0, 1], "exclus": [0, 1], "A": [0, 1], "few": [0, 1], "dq": [0, 1], "best_effort": [0, 1], "put_data": [0, 1], "item1": [0, 1], "item2": [0, 1], "item3": [0, 1], "uuid": [0, 1], "deliveri": [0, 1], "dq5": [0, 1], "retry_process": [0, 1], "items2": [0, 1], "overrid": [0, 1], "refresh_data": [0, 1], "7": [0, 1], "our": [0, 1], "k": [0, 1], "v": [0, 1], "done_data": [0, 1], "dqd": [0, 1], "ar": [0, 1], "dead": [0, 1], "dead_item": [0, 1], "differ": [0, 1], "doc": [0, 1], "longer": [0, 1], "closer": [0, 1], "what": [0, 1], "seen": [0, 1], "practic": [0, 1], "aggregate_queu": [0, 1], "aggregate_stat": [0, 1], "60": [0, 1], "aggreg": [0, 1], "act": [0, 1], "unnecessari": [0, 1], "100": [0, 1], "dictionari": [0, 1], "done_with": [0, 1], "id": [0, 1], "append": [0, 1], "still": [0, 1], "iter": [0, 1], "natur": [0, 1], "over": [0, 1], "okai": [0, 1], "tupl": [0, 1], "list": [0, 1], "lgpl": [0, 1], "project": [0, 1], "almost": [0, 1], "licens": [0, 1], "partli": [0, 1], "structd": [0, 1], "com": [0, 1], "hcaptcha": [0, 1], "both": [0, 1], "whom": [0, 1], "receiv": [0, 1], "match": [0, 1], "need": [0, 1], "appropri": [0, 1], "histor": [0, 1], "million": [0, 1], "food": [0, 1], "chownow": [0, 1], "billion": [0, 1], "ad": [0, 1], "impress": [0, 1], "system1": [0, 1], "captcha": [0, 1], "thank": [0, 1], "those": [0, 1], "who": [0, 1], "consum": [0, 1], "servic": [0, 1], "welcom": [0, 1], "good": [0, 1], "compani": [0, 1], "link": [0, 1], "index": 1, "search": 1, "page": 1, "origin": 1, "written": 1, "juli": 1, "2011": 1, "copyright": 1, "2022": 1, "josiah": 1, "carlson": 1, "releas": 1, "under": 1, "gnu": 1, "v2": 1, "www": 1, "old": 1, "html": 1, "upon": 1, "request": 1, "class": 1, "none": 1, "is_dead": 1, "object": 1, "repres": 1, "abstract": 1, "remov": 1, "intern": 1, "much": 1, "wai": 1, "just": 1, "kei": 1, "associ": 1, "arbitrari": 1, "behavior": 1, "data_queu": 1, "queue_nam": 1, "control": 1, "failur": 1, "oper": 1, "find": 1, "access": 1, "variou": 1, "becaus": 1, "clean": 1, "out": 1, "data_dlq": 1, "tasks_dlq": 1, "onli": 1, "pull": 1, "fashion": 1, "currently_avail": 1, "invis": 1, "delete_al": 1, "delet": 1, "clear": 1, "when": 1, "get_timeout": 1, "finish": 1, "certain": 1, "peek": 1, "least": 1, "note": 1, "data_item": 1, "extra": 1, "field": 1, "task_function_nam": 1, "function": 1, "registri": 1, "45": 1, "updat": 1, "leas": 1, "process": 1, "is_on": 1, "chunksiz": 1, "512": 1, "assum": 1, "each": 1, "assign": 1, "new": 1, "place": 1, "map": 1, "ish": 1, "spew": 1, "exceed": 1, "overridden": 1, "enabl": 1, "one": 1, "pipelin": 1, "flush": 1, "enqueuedtask": 1, "taskid": 1, "simpl": 1, "statu": 1, "check": 1, "right": 1, "call_task": 1, "properti": 1, "were": 1, "wa": 1, "success": 1, "inform": 1, "known": 1, "save": 1, "expir": 1, "consist": 1, "rememb": 1, "exist": 1, "nolock": 1, "cannot": 1, "acquir": 1, "simplelock": 1, "conn": 1, "durat": 1, "dirt": 1, "shouldn": 1, "anyth": 1, "fast": 1, "alreadi": 1, "held": 1, "had": 1, "setnxex": 1, "ttl": 1, "wasn": 1, "wouldn": 1, "legaci": 1, "never_skip": 1, "retry_delai": 1, "low_delay_okai": 1, "These": 1, "replac": 1, "appli": 1, "invok": 1, "given": 1, "insid": 1, "processor": 1, "choos": 1, "destin": 1, "care": 1, "_queue": 1, "alter": 1, "individu": 1, "coupl": 1, "next": 1, "calcul": 1, "recur": 1, "accept": 1, "_attempt": 1, "paramet": 1, "directli": 1, "via": 1, "track": 1, "progress": 1, "dot": 1, "task_nam": 1, "kw": 1, "valueerror": 1, "_verify_cal": 1, "keyword": 1, "clear_queu": 1, "is_data": 1, "itself": 1, "b": 1, "repeat": 1, "instal": 1, "similar": 1, "minut": 1, "bar": 1, "consid": 1, "skip": 1, "pleas": 1, "wikipedia": 1, "threads_per_process": 1, "wait_per_thread": 1, "global": 1, "should_quit": 1, "flush_task": 1, "force_delai": 1, "wait_on_hidden": 1, "log_everi": 1, "current": 1, "state": 1, "output": 1, "ll": 1, "empti": 1, "case": 1, "forc": 1, "immedi": 1, "nor": 1, "explicitli": 1, "taskx": 1, "impli": 1, "mani": 1, "32": 1, "doe": 1, "log": 1, "info": 1, "level": 1, "get_task": 1, "dynam": 1, "load": 1, "known_queu": 1, "new_rpqueu": 1, "pfix": 1, "creat": 1, "separ": 1, "system": 1, "codebas": 1, "simplifi": 1, "multipl": 1, "prefix": 1, "relat": 1, "run_everi": 1, "int": 1, "float": 1, "datetim": 1, "timedelta": 1, "instanc": 1, "context": 1, "function3": 1, "15pm": 1, "actual": 1, "25pm": 1, "13": 1, "prior": 1, "reschedul": 1, "16pm": 1, "after": 1, "earlier": 1, "instead": 1, "function4": 1, "26pm": 1, "miss": 1, "queue_siz": 1, "size": 1, "its": 1, "two": 1, "fetch": 1, "equival": 1, "some": 1, "concurr": 1, "logic": 1, "than": 1, "whose": 1, "r": 1, "script_load": 1, "script": 1, "borrow": 1, "my": 1, "book": 1, "action": 1, "blob": 1, "master": 1, "ch11_listing_sourc": 1, "set_key_prefix": 1, "runner": 1, "parallel": 1, "worri": 1, "set_prior": 1, "qpri": 1, "lower": 1, "higher": 1, "come": 1, "set_redis_connect": 1, "pool": 1, "environ": 1, "where": 1, "desir": 1, "localhost": 1, "6379": 1, "password": 1, "socket_timeout": 1, "unix_socket_path": 1, "ssl": 1, "ssl_ca_cert": 1, "transpar": 1, "arg1": 1, "arg2": 1}, "objects": {"": [[1, 0, 0, "-", "rpqueue"]], "rpqueue": [[1, 1, 1, "", "Data"], [1, 1, 1, "", "EnqueuedTask"], [1, 4, 1, "", "NoLock"], [1, 1, 1, "", "SimpleLock"], [1, 1, 1, "", "Task"], [1, 5, 1, "", "call_task"], [1, 5, 1, "", "clear_queue"], [1, 5, 1, "", "cron_task"], [1, 5, 1, "", "execute_tasks"], [1, 5, 1, "", "flush_tasks"], [1, 5, 1, "", "get_task"], [1, 5, 1, "", "known_queues"], [1, 5, 1, "", "new_rpqueue"], [1, 5, 1, "", "periodic_task"], [1, 5, 1, "", "queue_sizes"], [1, 5, 1, "", "result"], [1, 5, 1, "", "results"], [1, 5, 1, "", "script_load"], [1, 5, 1, "", "set_key_prefix"], [1, 5, 1, "", "set_priority"], [1, 5, 1, "", "set_redis_connection"], [1, 5, 1, "", "set_redis_connection_settings"], [1, 5, 1, "", "task"]], "rpqueue.Data": [[1, 2, 1, "", "currently_available"], [1, 2, 1, "", "delete_all"], [1, 2, 1, "", "done_data"], [1, 2, 1, "", "get_data"], [1, 2, 1, "", "put_data"], [1, 2, 1, "", "refresh_data"]], "rpqueue.EnqueuedTask": [[1, 3, 1, "", "args"], [1, 2, 1, "", "cancel"], [1, 3, 1, "", "result"], [1, 3, 1, "", "status"], [1, 2, 1, "", "wait"]], "rpqueue.SimpleLock": [[1, 2, 1, "", "refresh"]], "rpqueue.Task": [[1, 2, 1, "", "execute"], [1, 2, 1, "", "next"], [1, 2, 1, "", "retry"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:property", "4": "py:exception", "5": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "property", "Python property"], "4": ["py", "exception", "Python exception"], "5": ["py", "function", "Python function"]}, "titleterms": {"descript": [0, 1], "get": [0, 1], "start": [0, 1], "exampl": [0, 1], "us": [0, 1], "retri": [0, 1], "automat": [0, 1], "vis_timeout": [0, 1], "deadlett": [0, 1], "task": [0, 1], "queue": [0, 1], "wait": [0, 1], "execut": [0, 1], "store": [0, 1], "result": [0, 1], "addit": [0, 1], "featur": [0, 1], "crontab": [0, 1], "data": [0, 1], "sponsor": [0, 1], "rpqueue": 1, "modul": 1, "content": 1}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"Description": [[0, "description"], [1, "description"]], "Getting started": [[0, "getting-started"], [1, "getting-started"]], "Example uses": [[0, "example-uses"], [1, "example-uses"]], "Retries": [[0, "retries"], [1, "retries"]], "Automatic retries with vis_timeout": [[0, "automatic-retries-with-vis-timeout"], [1, "automatic-retries-with-vis-timeout"]], "Deadletter task queue": [[0, "deadletter-task-queue"], [1, "deadletter-task-queue"]], "Waiting for task execution": [[0, "waiting-for-task-execution"], [1, "waiting-for-task-execution"]], "Automatically storing results of tasks": [[0, "automatically-storing-results-of-tasks"], [1, "automatically-storing-results-of-tasks"]], "Additional features": [[0, "additional-features"], [1, "additional-features"]], "Crontab": [[0, "crontab"], [1, "crontab"]], "Data queues": [[0, "data-queues"], [1, "data-queues"]], "Sponsors": [[0, "sponsors"], [1, "sponsors"]], "Rpqueue module contents": [[1, "module-rpqueue"]]}, "indexentries": {"data (class in rpqueue)": [[1, "rpqueue.Data"]], "enqueuedtask (class in rpqueue)": [[1, "rpqueue.EnqueuedTask"]], "nolock": [[1, "rpqueue.NoLock"]], "simplelock (class in rpqueue)": [[1, "rpqueue.SimpleLock"]], "task (class in rpqueue)": [[1, "rpqueue.Task"]], "args (rpqueue.enqueuedtask property)": [[1, "rpqueue.EnqueuedTask.args"]], "call_task() (in module rpqueue)": [[1, "rpqueue.call_task"]], "cancel() (rpqueue.enqueuedtask method)": [[1, "rpqueue.EnqueuedTask.cancel"]], "clear_queue() (in module rpqueue)": [[1, "rpqueue.clear_queue"]], "cron_task() (in module rpqueue)": [[1, "rpqueue.cron_task"]], "currently_available() (rpqueue.data method)": [[1, "rpqueue.Data.currently_available"]], "delete_all() (rpqueue.data method)": [[1, "rpqueue.Data.delete_all"]], "done_data() (rpqueue.data method)": [[1, "rpqueue.Data.done_data"]], "execute() (rpqueue.task method)": [[1, "rpqueue.Task.execute"]], "execute_tasks() (in module rpqueue)": [[1, "rpqueue.execute_tasks"]], "flush_tasks() (in module rpqueue)": [[1, "rpqueue.flush_tasks"]], "get_data() (rpqueue.data method)": [[1, "rpqueue.Data.get_data"]], "get_task() (in module rpqueue)": [[1, "rpqueue.get_task"]], "known_queues() (in module rpqueue)": [[1, "rpqueue.known_queues"]], "module": [[1, "module-rpqueue"]], "new_rpqueue() (in module rpqueue)": [[1, "rpqueue.new_rpqueue"]], "next() (rpqueue.task method)": [[1, "rpqueue.Task.next"]], "periodic_task() (in module rpqueue)": [[1, "rpqueue.periodic_task"]], "put_data() (rpqueue.data method)": [[1, "rpqueue.Data.put_data"]], "queue_sizes() (in module rpqueue)": [[1, "rpqueue.queue_sizes"]], "refresh() (rpqueue.simplelock method)": [[1, "rpqueue.SimpleLock.refresh"]], "refresh_data() (rpqueue.data method)": [[1, "rpqueue.Data.refresh_data"]], "result (rpqueue.enqueuedtask property)": [[1, "rpqueue.EnqueuedTask.result"]], "result() (in module rpqueue)": [[1, "rpqueue.result"]], "results() (in module rpqueue)": [[1, "rpqueue.results"]], "retry() (rpqueue.task method)": [[1, "rpqueue.Task.retry"]], "rpqueue": [[1, "module-rpqueue"]], "script_load() (in module rpqueue)": [[1, "rpqueue.script_load"]], "set_key_prefix() (in module rpqueue)": [[1, "rpqueue.set_key_prefix"]], "set_priority() (in module rpqueue)": [[1, "rpqueue.set_priority"]], "set_redis_connection() (in module rpqueue)": [[1, "rpqueue.set_redis_connection"]], "set_redis_connection_settings() (in module rpqueue)": [[1, "rpqueue.set_redis_connection_settings"]], "status (rpqueue.enqueuedtask property)": [[1, "rpqueue.EnqueuedTask.status"]], "task() (in module rpqueue)": [[1, "rpqueue.task"]], "wait() (rpqueue.enqueuedtask method)": [[1, "rpqueue.EnqueuedTask.wait"]]}})